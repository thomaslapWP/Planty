import{ba as Ge,l as a,r as C,b3 as Be,aC as Z,c8 as Re,cE as ue,cF as We,cG as ze,cH as qe,cI as ke,j as e,cJ as ie,bP as pe,cK as Ye,cL as He,_ as Je,cM as Me,bN as De,z as H,cN as ne,cO as Ke,cP as Qe,cQ as Xe,cR as Ze,cS as $e,cT as Ie,cU as y,cV as es,cW as I,ck as V,cX as ss,a as ts,e as U,C as J,cY as is,cZ as le,c_ as ns,b8 as ls,P as rs,c$ as as,p as Ce,q as os,d0 as ds,d1 as cs,d2 as us}from"./main-1.0.7.js";import{b as D,u as w,v as ps,a3 as Ue,M as B,B as m,ai as xs,a9 as Se,aj as gs,ac as hs,ad as ms,ae as js,af as fs,D as Ae,T as xe,ak as bs,m as Cs,n as Ss,o as Pe,f as Le,al as ys,am as Ts,an as vs,ao as _s,A as Fs,e as ws}from"./main-1.0.7-9bcf9658.js";import{B as M,A as ye,C as Te,a as ve}from"./AdminTheme-1.0.7-e1a0758c.js";import{u as Rs,S as ks,a as Us,I as se,b as As,c as Ps,d as re,T as Ls,M as Es,P as Ns,D as Vs,e as Os,f as Gs,g as Bs,h as Ws,i as zs}from"./useMetadataColumns-1.0.7-004f6707.js";import{a as Q,C as fe,S as be,R as qs,B as Ys,b as Hs,c as Js,d as Ms,e as ae,k as Ds}from"./settings-1.0.7-0ed115b6.js";import{h as Ks,f as Qs,g as Xs}from"./index.esm-1.0.7-50dfbcc7.js";import{u as Ee}from"./useStoreTable-1.0.7-4bf15352.js";import{d as Zs,e as $s,c as Is}from"./index.esm-1.0.7-c2078752.js";import{P as K}from"./PremiumFeature-1.0.7-7accbda7.js";import{E as oe}from"./EnumTypeEnum-1.0.7-7ffcf33a.js";import{A as W,a as z,b as q}from"./AccordionSummary-1.0.7-07dc4067.js";import{F as v,b as E,a as F,T as N,I as ge,S as he}from"./TextField-1.0.7-db52d17f.js";import{a as et,S as st}from"./ScopeEnum-1.0.7-801b5acc.js";import{R as me}from"./RadioGroup-1.0.7-a99aad94.js";import{R as O}from"./Radio-1.0.7-a1fc902e.js";import{L as je}from"./Link-1.0.7-7fd9c9be.js";import{I as G,T as Ne}from"./iconBase-1.0.7-dd244ceb.js";import{F as $}from"./FormControlLabel-1.0.7-e4e2218b.js";import{C as A}from"./CssUnitTextField-1.0.7-44bdec8f.js";import{u as tt,C as it,a as _e,b as Fe}from"./useApp-1.0.7-3c86de8d.js";import{D as nt,T as lt,a as de}from"./DefaultWhere-1.0.7-5a862d59.js";import{M as ee}from"./MenuItem-1.0.7-c593e11a.js";import{j as rt,k as at,l as ot}from"./ActionsApp-1.0.7-d5341f25.js";import{S as dt,a as ct,b as ut}from"./Stepper-1.0.7-be2bc3e5.js";import"./index-1.0.7-22a4f547.js";import pt from"./ThemeSettings-1.0.7-6837640e.js";import{T as ce}from"./Tabs-1.0.7-766143ea.js";import"./ActionsDml-1.0.7-c9050d88.js";import"./useTableUpdater-1.0.7-8b30420d.js";import"./Checkbox-1.0.7-e4c93e2e.js";import"./Close-1.0.7-d2499b42.js";import"./DialogContent-1.0.7-fca1f4d6.js";import"./useSlot-1.0.7-9849c4eb.js";import"./ActionsExplorer-1.0.7-4d40ab8a.js";import"./index-1.0.7-2cb350a7.js";const te=s=>{const n=D(i=>Ge(i,s));return a.debug("metaData",n),n},Ve=s=>{const n=w();return C.useCallback((i,t)=>{rt({app_id:i.app.app[0].app_id,cnt_id:i.app.container[0].cnt_id},l=>{const u=l==null?void 0:l.data;if(a.debug("response data",u),Array.isArray(u)){const o=Be(Z.getState(),s)??[];for(let j=0;j<u.length;j++){const T=Re(u[j]);if(T!==null&&T.cnt_id_master===i.app.container[0].cnt_id){let g="";for(let r=0;r<o.length;r++)ue(Z.getState(),o[r].appId)!==void 0&&o[r].container.cnt_id===u[j].cnt_id&&(g=o[r].appId);if(g===""){const r={appId:ps(),container:u[j]};n(We({appId:s,detail:r}))}else{const r={appId:g,container:u[j]};n(ze({appId:s,detail:r}))}}}}else a.error("error loading details",l),t!==void 0&&t()},l=>{a.error("error loading details",l),t!==void 0&&t()})},[s])},xt=s=>{const n=D(i=>qe(i,s));return a.debug("detailDisplayType",n),n},P=s=>{const n=w();return t=>{n(ke({appId:s,isUpdated:t}))}},gt=({appId:s,columnIndex:n,tableColumn:i})=>{a.debug(s,n,i),w();const t=te(s),l=Ue(s);P(s);const u=o=>[];return e.jsxs(W,{disableGutters:!0,children:[e.jsxs(z,{expandIcon:e.jsx(B,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(Zs,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Grid positioning"})]}),e.jsxs(q,{sx:{paddingTop:"0.5rem"},children:[e.jsxs(m,{children:[e.jsxs(v,{sx:{display:"grid"},children:[e.jsx(E,{children:"Grid cells"}),e.jsx(et,{value:i.cells,min:1,max:l.cellsPerRow,step:1,marks:u(l.cellsPerRow),valueLabelDisplay:"auto",disabled:!0,onChange:(o,j)=>{a.debug(o,j)},sx:{width:"calc(100% - 40px)",margin:"20px"}})]}),e.jsx(F,{children:"Number of grid cells used (can be changed in FORM > Grid)"}),e.jsxs(v,{sx:{width:"100%"},children:[e.jsx(E,{sx:{margin:"15px 0 5px 0"},children:"Grid positioning"}),e.jsx(me,{sx:{flexDirection:"column",alignContent:"flex-start",marginLeft:"10px",marginBottom:"5px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",justifyContent:"center",alignItems:"center"},children:[e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.cellClass===ie.AUTO,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Auto"]}),e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.cellClass===ie.START,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Start"]}),e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.cellClass===ie.END,disabled:!0,onChange:o=>{o.stopPropagation()}}),"End"]}),e.jsxs(E,{children:[e.jsx(O,{checked:typeof i.cellClass=="number",disabled:!0,onChange:o=>{o.stopPropagation()}}),"Add"]}),e.jsxs("div",{style:{marginLeft:"10px",gridColumn:"span 2",display:"grid",gridTemplateColumns:"auto auto",alignItems:"center"},children:[e.jsx(N,{id:"pp-cells-before",sx:{width:"60px"},className:"pp-cells-before",type:"number",defaultValue:1,InputProps:{inputProps:{min:1,max:l.cellsPerRow-1}},disabled:!0,InputLabelProps:{shrink:!0},onChange:o=>{o.stopPropagation()}}),e.jsx(E,{sx:{marginLeft:"10px"},children:"cell(s) before"})]})]})})]}),e.jsx(F,{children:"Grid positioning relative to surrounding cells"}),i.computedField&&n!==void 0&&(t==null?void 0:t.columns[n])!==void 0&&t.columns[n].data_type==="enum"&&e.jsxs(m,{sx:{marginTop:"20px"},children:[e.jsx(E,{children:"Show values in"}),e.jsxs(me,{sx:{flexDirection:"column",alignContent:"flex-start",margin:"10px 0 5px 10px"},children:[e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.updatableEnum===void 0||i.updatableEnum===oe.LIST,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Drop-down List"]}),e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.updatableEnum===oe.RADIO_HORIZONTAL,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Horizontal radio group"]}),e.jsxs(E,{className:"align-label-radio",children:[e.jsx(O,{checked:i.updatableEnum===oe.RADIO_VERTICAL,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Vertical radio group"]})]})]})]}),e.jsx(K,{single:!1})]})]})},ht=({appId:s,columnIndex:n,tableColumn:i,columnMetaData:t})=>{a.debug(s,n,i),w(),P(s);const[l,u]=C.useState(!1);return i.computedField!==void 0||n===void 0||t===void 0||(t==null?void 0:t.data_type)!==void 0&&pe(t.data_type)!=="number"?null:e.jsxs(W,{disableGutters:!0,children:[e.jsxs(z,{expandIcon:e.jsx(B,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx($s,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Validation"})]}),e.jsxs(q,{sx:{paddingTop:"1rem"},children:[e.jsxs(v,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[e.jsx(N,{error:l,type:"number",label:"Minimum value allowed",disabled:!0,value:i.numericMin??"",required:!1,InputLabelProps:{shrink:!0},onChange:o=>{a.debug(o)}}),e.jsx(N,{error:l,type:"number",label:"Maximum value allowed",disabled:!0,value:i.numericMax??"",required:!1,InputLabelProps:{shrink:!0},onChange:o=>{a.debug(o)}})]}),e.jsx(K,{})]})]})},mt=({appId:s,columnIndex:n,tableColumn:i,columnMetaData:t})=>{a.debug(s,n,i,t);const l=w(),u=P(s),[o,j]=C.useState(!1),T={marginTop:"20px",marginLeft:"10px",fontWeight:"bold"};return e.jsxs(W,{disableGutters:!0,children:[e.jsxs(z,{expandIcon:e.jsx(B,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(Is,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Column settings"})]}),e.jsxs(q,{sx:{display:"grid",gridGap:"2rem",paddingTop:"1rem"},children:[e.jsxs(v,{children:[e.jsx(N,{type:"text",variant:"outlined",label:"Default value",value:i.defaultValue??"",placeholder:(t==null?void 0:t.column_default)??"",InputLabelProps:{shrink:!0},onChange:g=>{l(Ye({appId:s,index:n,defaultValue:g.target.value})),u(!0),g.stopPropagation()}}),e.jsxs(F,{component:"div",children:[e.jsx(e.Fragment,{children:(t==null?void 0:t.column_default)!==void 0&&(t==null?void 0:t.column_default)!==null&&(t==null?void 0:t.column_default)!==""&&e.jsx(m,{sx:{fontWeight:"bold"},children:"Leave empty to use column default constraint."})}),e.jsxs("div",{children:["Only applied on insert ",o?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx(je,{sx:{cursor:"pointer"},underline:"none",onClick:()=>{j(!1)},children:"(hide examples)"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"Hello World"}),e.jsx("li",{children:"@wpda_wp_user_id"}),e.jsx("li",{children:"@now"})]}),e.jsx("div",{style:T,children:"Notes"}),e.jsxs("ul",{children:[e.jsx("li",{children:"@wpda_wp_user_id returns the WordPress user ID or 0 for anonymous requests"}),e.jsx("li",{children:"@now returns the current date/time and works with date/time fields only"}),e.jsxs("li",{children:["Column default constraints defined in the database are automatically applied",(t==null?void 0:t.column_default)!==void 0&&(t==null?void 0:t.column_default)!==null&&(t==null?void 0:t.column_default)!==""&&e.jsxs(e.Fragment,{children:[" (current value is ",e.jsx("strong",{children:t==null?void 0:t.column_default}),")"]})]})]})]}):e.jsx("span",{children:e.jsx(je,{sx:{cursor:"pointer"},underline:"none",onClick:()=>{j(!0)},children:"(show examples)"})})]})]})]}),((t==null?void 0:t.data_type)!==void 0&&t.data_type.toLowerCase()!=="text"&&t.data_type.toLowerCase()!=="enum"&&t.data_type.toLowerCase()!=="set"&&t.column_type.toLowerCase()!=="tinyint(1)"&&(pe(t.data_type)==="string"||pe(t.data_type)==="number")||i.computedField)&&e.jsxs(v,{children:[e.jsx(m,{sx:{display:"grid",gridTemplateColumns:"auto auto",gridGap:"10px",alignItems:"center"},children:e.jsxs(e.Fragment,{children:[e.jsx(N,{type:"text",variant:"outlined",label:"Prefix",value:i.prefix,disabled:!0,InputLabelProps:{shrink:!0},onChange:g=>{g.stopPropagation()}}),e.jsx(N,{type:"text",variant:"outlined",label:"Suffix",value:i.suffix,disabled:!0,InputLabelProps:{shrink:!0},onChange:g=>{g.stopPropagation()}})]})}),e.jsx(F,{children:"Adds a prefix and/or suffix to the column content"})]}),e.jsxs(v,{children:[e.jsx(N,{type:"text",variant:"outlined",label:"CSS classes",fullWidth:!0,value:i.classNames,disabled:!0,InputLabelProps:{shrink:!0},onChange:g=>{g.stopPropagation()}}),e.jsx(F,{children:"CSS classes (seperated by spaces) for custom styling"})]}),e.jsxs(v,{children:[e.jsx(N,{type:"text",variant:"outlined",label:"Hint",fullWidth:!0,value:i.hint,disabled:!0,InputLabelProps:{shrink:!0},onChange:g=>{g.stopPropagation()}}),e.jsx(F,{children:"Help text displayed below data entry field"})]}),e.jsx(K,{single:!1,margin:"0"})]})]})},jt=({appId:s,columnIndex:n,tableColumn:i})=>{var r,_;a.debug(s,n,i);const t=w(),l=P(s),u=Ee(s),o=te(s),T=Rs(s)[i.columnName],g=(L,x)=>{t(He({appId:s,index:L,lookup:x})),l(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(gt,{appId:s,columnIndex:n,tableColumn:i}),e.jsx(mt,{appId:s,columnIndex:n,tableColumn:i,columnMetaData:T}),(((r=o==null?void 0:o.privs)==null?void 0:r.insert)||((_=o==null?void 0:o.privs)==null?void 0:_.update))&&(u.table.transactions.insert||u.table.transactions.update)&&e.jsx(ht,{appId:s,columnIndex:n,tableColumn:i,columnMetaData:T}),e.jsx(ks,{appId:s,columnIndex:n,tableColumn:i,columnMetaData:T,setLookup:g}),e.jsx(Us,{columnMetaData:T})]})};C.lazy(()=>Je(()=>import("./ComputedFieldMore-1.0.7-ea230a24.js"),["./ComputedFieldMore-1.0.7-ea230a24.js","./main-1.0.7.js","./main-1.0.7-9bcf9658.js","./iconBase-1.0.7-dd244ceb.js","./main-1.0.7-ca6efa15.css","./settings-1.0.7-0ed115b6.js","./FormControlLabel-1.0.7-e4e2218b.js","./TextField-1.0.7-db52d17f.js","./Close-1.0.7-d2499b42.js","./DialogContent-1.0.7-fca1f4d6.js","./AdminTheme-1.0.7-e1a0758c.js","./Tabs-1.0.7-766143ea.js","./settings-1.0.7-5a196fc8.css","./index.esm-1.0.7-50dfbcc7.js","./MenuItem-1.0.7-c593e11a.js"],import.meta.url));const ft=({appId:s,columnIndex:n})=>{a.debug(s,n);const i=w(),t=Ee(s),l=D(d=>Me(d,s,n));a.debug("tableColumn",l);const u=P(s),o=(d,p)=>{a.debug(d,p),i(Ke({appId:s,index:d,visible:p})),u(!0)},j=(d,p)=>{a.debug(d,p),i(Qe({appId:s,index:d,more:p})),u(!0)},T=(d,p)=>{a.debug(d,p),i(Xe({appId:s,index:d,updatable:p})),u(!0)};De.TEXT;const[g,r]=C.useState(!1),[_,L]=C.useState(void 0),x=d=>{d!==void 0&&(i(Ze({appId:s,index:d})),u(!0))},k=(d,p,b)=>(a.debug(d,p,b),e.jsxs(e.Fragment,{children:[e.jsx(m,{children:e.jsx(As,{id:d,enabled:!1})}),e.jsxs(m,{sx:{display:"inline-grid",gridTemplateColumns:l.computedField!==void 0?"auto auto":"auto",justifyContent:"start",alignItems:"center",gap:"10px","& svg":{opacity:"0.5"}},children:[l.computedField!==void 0&&e.jsx(Ks,{}),e.jsx(E,{children:p})]})]}));return e.jsxs(e.Fragment,{children:[e.jsxs(W,{disableGutters:!0,slotProps:{transition:{unmountOnExit:!0}},children:[e.jsxs(z,{className:"pp-column-settings",expandIcon:e.jsx(B,{}),sx:{justifyContent:"space-between"},children:[e.jsx(m,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center","& svg":{display:"flex"}},children:k(l.columnName,l.columnLabel,n)}),e.jsxs(m,{style:{display:"grid",gridTemplateColumns:"40px 40px 40px"},children:[e.jsx(Q,{title:"Visibility",position:"bottom",children:e.jsx(G,{onClick:d=>{l.visible?l.more?(o(n,!1),j(n,!1)):j(n,!0):l.more?j(n,!1):o(n,!0),d.stopPropagation()},children:l.visible?e.jsx(e.Fragment,{children:l.more?e.jsx(se,{checked:!0,children:e.jsx(xs,{})}):e.jsx(se,{checked:!0,children:e.jsx(Se,{})})}):e.jsx(se,{checked:!1,children:e.jsx(Se,{})})})}),l.computedField?e.jsx(e.Fragment,{children:e.jsx(Q,{title:"Delete",position:"bottom",children:e.jsx(G,{onClick:d=>{r(!0),L(n),d.stopPropagation()},children:e.jsx(hs,{})})})}):e.jsx(Q,{title:"Updatable",position:"bottom",disabled:!t.table.transactions.insert&&!t.table.transactions.update,children:e.jsx(G,{disabled:!t.table.transactions.insert&&!t.table.transactions.update,onClick:d=>{T(n,!l.updatable),d.stopPropagation()},children:e.jsx(se,{checked:l.updatable&&(t.table.transactions.insert||t.table.transactions.update),disabled:!t.table.transactions.insert&&!t.table.transactions.update,children:e.jsx(gs,{})})})}),e.jsx(Q,{title:"Alignment",position:"bottom",children:e.jsxs(G,{onClick:d=>{l.alignment===H.LEFT?i(ne({appId:s,index:n,alignment:H.CENTER})):l.alignment===H.CENTER?i(ne({appId:s,index:n,alignment:H.RIGHT})):l.alignment===H.RIGHT&&i(ne({appId:s,index:n,alignment:H.LEFT})),u(!0),d.stopPropagation()},children:[l.alignment===H.LEFT&&e.jsx(ms,{}),l.alignment===H.CENTER&&e.jsx(js,{}),l.alignment===H.RIGHT&&e.jsx(fs,{})]})})]})]}),e.jsx(q,{children:e.jsx(jt,{appId:s,columnIndex:n,tableColumn:l})})]},n),e.jsx(fe,{title:"Delete computed field?",message:"Are you sure you want to delete this computed field? This action cannot be undone!",open:g,setOpen:r,onConfirm:()=>x(_)})]})},bt=({appId:s})=>{a.debug(s),w();const n=Ps(re(Ns),re(Es),re(Ls));P(s);const i=l=>{const{active:u,over:o}=l;(u==null?void 0:u.id)!==(o==null?void 0:o.id)&&a.debug(u,o)},t=D(l=>$e(l,s));return t===void 0||t.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx(Vs,{autoScroll:!0,sensors:n,collisionDetection:Os,onDragEnd:i,children:e.jsx(Gs,{items:t,children:t.map((l,u)=>e.jsx(Bs,{id:l,children:e.jsx(ft,{appId:s,columnIndex:u})},l))})}),e.jsx(Ws,{appId:s,target:Ae.FORM})]})},Ct=()=>{const s=D(n=>Ie(n));return a.debug("hideThemeSetting",s),s},St=({appId:s,formSettings:n})=>(w(),P(s),e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Field layout"}),e.jsxs(q,{sx:{display:"grid",gap:"20px"},children:[e.jsxs(v,{children:[e.jsxs(me,{value:n.fieldVariant,sx:{flexDirection:"row"},onChange:i=>{a.debug(i)},children:[e.jsx($,{control:e.jsx(O,{disabled:!0}),value:"outlined",label:"Outlined"},"outlined"),e.jsx($,{control:e.jsx(O,{disabled:!0}),value:"filled",label:"Filled"},"filled"),e.jsx($,{control:e.jsx(O,{disabled:!0}),value:"standard",label:"Standard"},"standard")]}),e.jsx(F,{children:"Applies to data entry forms only"})]}),e.jsx($,{control:e.jsx(be,{checked:n.hideHintsInViewMode,disabled:!0,onChange:(i,t)=>{i.stopPropagation()}}),label:"Hide hints in view mode",labelPlacement:"end"}),e.jsx(K,{})]})]})),yt=({appId:s,formSettings:n,updateSettings:i})=>(w(),P(s),e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Grid"}),e.jsxs(q,{sx:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"20px",marginTop:"5px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[e.jsx(N,{type:"number",label:"Cells per row",value:n.cellsPerRow,disabled:!0,InputLabelProps:{shrink:!0},onChange:t=>{a.debug(t)}}),e.jsx(A,{label:"Space between cells",textField:{cssValue:n.spacing.betweenCells,cssUnit:n.spacing.betweenCellsUnit},defaultValue:{cssValue:y.betweenCells,cssUnit:y.betweenCellsUnit},updateSettings:t=>{a.debug(t)}})]}),e.jsx($,{control:e.jsx(be,{disabled:!0,checked:n.showGrid,onChange:(t,l)=>{a.debug(t,l)}}),label:"Show grid"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"10px"},children:[e.jsx(A,{label:"Padding top",textField:{cssValue:n.spacing.aroundGridTop,cssUnit:n.spacing.aroundGridTopUnit},defaultValue:{cssValue:y.aroundGridTop,cssUnit:y.aroundGridTopUnit},updateSettings:t=>{a.debug(t)}}),e.jsx(A,{label:"Padding bottom",textField:{cssValue:n.spacing.aroundGridBottom,cssUnit:n.spacing.aroundGridBottomUnit},defaultValue:{cssValue:y.aroundGridBottom,cssUnit:y.aroundGridBottomUnit},updateSettings:t=>{a.debug(t)}}),e.jsx(A,{label:"Padding left",textField:{cssValue:n.spacing.aroundGridLeft,cssUnit:n.spacing.aroundGridLeftUnit},defaultValue:{cssValue:y.aroundGridLeft,cssUnit:y.aroundGridLeftUnit},updateSettings:t=>{a.debug(t)}}),e.jsx(A,{label:"Padding right",textField:{cssValue:n.spacing.aroundGridRight,cssUnit:n.spacing.aroundGridRightUnit},defaultValue:{cssValue:y.aroundGridRight,cssUnit:y.aroundGridRightUnit},updateSettings:t=>{a.debug(t)}})]}),e.jsx(K,{single:!1})]})]})),Tt=({formSettings:s,updateSettings:n})=>e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Cells"}),e.jsxs(q,{style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)"},children:[e.jsxs(v,{children:[e.jsxs(m,{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"5px"},children:[e.jsx(A,{label:"Padding top",textField:{cssValue:s.spacing.cellTop,cssUnit:s.spacing.cellTopUnit},defaultValue:{cssValue:y.cellTop,cssUnit:y.cellTopUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding bottom",textField:{cssValue:s.spacing.cellBottom,cssUnit:s.spacing.cellBottomUnit},defaultValue:{cssValue:y.cellBottom,cssUnit:y.cellBottomUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding left",textField:{cssValue:s.spacing.cellLeft,cssUnit:s.spacing.cellLeftUnit},defaultValue:{cssValue:y.cellLeft,cssUnit:y.cellLeftUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding right",textField:{cssValue:s.spacing.cellRight,cssUnit:s.spacing.cellRightUnit},defaultValue:{cssValue:y.cellRight,cssUnit:y.cellRightUnit},updateSettings:i=>{a.debug(i)}})]}),e.jsx(F,{sx:{marginTop:"20px"},children:"Spacing around cells"})]}),e.jsx(K,{single:!1})]})]}),vt=({formSettings:s,updateSettings:n})=>e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Field spacing"}),e.jsxs(q,{sx:{display:"grid"},children:[e.jsxs(v,{children:[e.jsxs(m,{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"5px"},children:[e.jsx(A,{label:"Padding top",textField:{cssValue:s.spacing.fieldTop,cssUnit:s.spacing.fieldTopUnit},defaultValue:{cssValue:y.fieldTop,cssUnit:y.fieldTopUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding bottom",textField:{cssValue:s.spacing.fieldBottom,cssUnit:s.spacing.fieldBottomUnit},defaultValue:{cssValue:y.fieldBottom,cssUnit:y.fieldBottomUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding left",textField:{cssValue:s.spacing.fieldLeft,cssUnit:s.spacing.fieldLeftUnit},defaultValue:{cssValue:y.fieldLeft,cssUnit:y.fieldLeftUnit},updateSettings:i=>{a.debug(i)}}),e.jsx(A,{label:"Padding right",textField:{cssValue:s.spacing.fieldRight,cssUnit:s.spacing.fieldRightUnit},defaultValue:{cssValue:y.fieldRight,cssUnit:y.fieldRightUnit},updateSettings:i=>{a.debug(i)}})]}),e.jsx(F,{sx:{marginTop:"20px"},children:"Spacing within data entry fields"})]}),e.jsx(K,{single:!1})]})]}),_t=({appId:s,formSettings:n})=>{var u;const i=w(),t=P(s),l=te(s);return!((u=l==null?void 0:l.privs)!=null&&u.update)||l.primary_key.length===0?null:e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Null value handling"}),e.jsxs(q,{sx:{display:"grid"},children:[e.jsx($,{control:e.jsx(be,{checked:n.preserveSpacesOnUpdate,onChange:(o,j)=>{i(es({appId:s,preserveSpaces:j})),t(!0),o.stopPropagation()}}),label:"Preserve empty strings on update",labelPlacement:"end"}),e.jsx(F,{children:"Enable to preserve empty strings for mandatory columns. Works only if the actual column value contains an empty spaces. Does not allow strings to be emptied."}),e.jsx(F,{children:"This feature is enabled by default on WordPress tables."}),e.jsx(F,{sx:{fontWeight:"bold"},children:"Do NOT change the default unless you really need to!"})]})]})},we=({appId:s,app:n,relationship:i,metaData:t,isRelationTable:l})=>{a.debug(s,n,i,t);const u=w(),o=P(s),[j,T]=C.useState(i.sql!==void 0&&i.sql!==""),[g,r]=C.useState(l?i.relationJoins.split(",").map(d=>{const p=d.split("=");return{masterColumn:p[0],detailColumn:p[1]??""}}):i.joins.split(",").map(d=>{const p=d.split("=");return{masterColumn:p[0],detailColumn:p[1]??""}}));a.debug("joins",g),C.useEffect(()=>{const d={...i};l?d.relationJoins=g.map(p=>p.masterColumn+"="+p.detailColumn).join(","):d.joins=g.map(p=>p.masterColumn+"="+p.detailColumn).join(","),u(I({appId:s,relationship:d})),o(!0)},[g]);const _=l?i.tbl:t.app.container[0].cnt_tbl,L=l?i.cls:t.app.container[0].cnt_cls===void 0||t.app.container[0].cnt_cls===null||t.app.container[0].cnt_cls===""?{}:JSON.parse(t.app.container[0].cnt_cls),x=l?n.appRelationTable:n.appTable,k=l?n.appRelationColumns:n.appColumns;return e.jsxs(m,{children:[...g.map((d,p)=>e.jsxs(m,{sx:{display:"grid",marginTop:"10px"},children:[e.jsxs(m,{sx:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) 20px minmax(0, 1fr) auto",alignItems:"center"},children:[e.jsxs(v,{children:[e.jsx(ge,{variant:"outlined",children:"master *"}),e.jsxs(he,{MenuProps:{id:"pp-select-menu"},label:"master *",value:d.masterColumn,onChange:b=>{const R=[...g];R[p].masterColumn=b.target.value,r(R),o(!0)},children:[...L.map(b=>b.isSelected?e.jsxs(ee,{value:b.columnName,children:[_,".",b.columnName]}):null)]})]}),e.jsx(m,{sx:{textAlign:"center"},children:"="}),e.jsxs(v,{children:[e.jsx(ge,{variant:"outlined",children:"detail *"}),e.jsxs(he,{MenuProps:{id:"pp-select-menu"},label:"detail *",value:d.detailColumn,onChange:b=>{const R=[...g];R[p].detailColumn=b.target.value,r(R),o(!0)},children:[...k.map(b=>b.isSelected?e.jsxs(ee,{value:b.columnName,children:[x,".",b.columnName]}):null)]})]}),e.jsx(m,{children:p===0?e.jsx(xe,{title:"Add condition",children:e.jsx(G,{color:"primary",onClick:()=>{const b=[...g];b.push({masterColumn:"",detailColumn:""}),r(b),o(!0)},children:e.jsx(Qs,{})})}):e.jsx(xe,{title:"Delete condition",children:e.jsx(G,{color:"primary",onClick:()=>{const b=[...g];b.splice(p,1),r(b),o(!0)},children:e.jsx(Xs,{})})})})]}),e.jsx(m,{children:e.jsx(v,{children:e.jsx(F,{children:"Updating requires a table reload"})})})]})),e.jsx(m,{sx:{marginTop:"20px"},children:j?e.jsxs(v,{fullWidth:!0,children:[e.jsx(N,{fullWidth:!0,label:"Optional conditions",multiline:!0,minRows:1,maxRows:10,value:l?i.relationSql:i.sql,placeholder:"Use this field to add additional conditions to show specific details only or leave blank",onChange:d=>{const p={...i};l?p.relationSql=d.target.value:p.sql=d.target.value,u(I({appId:s,relationship:p})),o(!0)}}),e.jsx(nt,{})]}):e.jsxs(je,{onClick:()=>T(!0),sx:{textDecoration:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(bs,{}),e.jsx("span",{children:"Add SQL conditions"})]})}),i.cardinality===V.ONE_TO_ONE&&e.jsx(m,{sx:{marginTop:"20px"},children:e.jsx(v,{fullWidth:!0,children:e.jsx(F,{children:"A join for a 1:1 relationship must return exactly one record. An error is shown when a detail query returns more than 1 record."})})})]})},Ft=({appId:s,metaData:n,isUpdating:i,initialRelationships:t,initialTitle:l,embedded:u,enableWizard:o})=>{const j=w(),T=Ve(s),g=P(s),r=tt(),[_,L]=C.useState(u);a.debug("typeSelected",_);const x=D(c=>ss(c));a.debug("relationship",x),C.useEffect(()=>{const c={...x};c.title=r.appTitle??"",c.dbs=r.appDatabase??"",c.tbl=r.appTable??"",c.cls=r.appColumns,c.relationTbl=r.appRelationTable??"",c.relationCls=r.appRelationColumns,j(I({appId:s,relationship:c}))},[r.appDatabase,r.appTable,r.appRelationTable,r.appColumns,r.appRelationColumns,r.appTitle]);const[k,d]=C.useState(""),p=C.useMemo(()=>x.cardinality===V.MANY_TO_MANY?["Relationship title","Select join table","Define join table join condition","Select relation table","Define relation table join condition"]:["Relationship title","Select data source","Define join condition"],[x.cardinality]),[b,R]=C.useState(0),X=c=>{switch(a.debug(c),c){case 0:if(r.appTitle===""||r.appTitle===null||l!==r.appTitle&&t.filter(h=>h.title===r.appTitle).length>0)return d("title"),!1;d("");break;case 1:if(r.appDatabase===""||r.appDatabase===null||r.appTable===""||r.appTable===null||r.appColumns.filter(h=>h.isSelected===!0).length===0)return!1;d("");break;case 2:if(x.joins==="=")return!1;d("");break;case 3:if(r.appRelationColumns.filter(h=>h.isSelected===!0).length===0)return!1;d("");break;case 4:if(x.relationJoins==="=")return!1;d("");break}return!0},Y=c=>(a.debug(c),e.jsxs(m,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",justifyContent:"space-between",alignItems:"center",gap:"5px"},children:[c===0?e.jsx(m,{}):e.jsx(M,{variant:"contained",startIcon:e.jsx(Cs,{}),onClick:()=>{R(c-1)},children:"Previous"}),c===2&&x.cardinality!==V.MANY_TO_MANY||c===4&&x.cardinality===V.MANY_TO_MANY?e.jsx(M,{variant:"contained",startIcon:e.jsx(Ss,{}),onClick:()=>{X(c)&&R(c+1)},children:"Finish"}):e.jsx(M,{variant:"contained",endIcon:e.jsx(Pe,{}),onClick:()=>{X(c)&&R(c+1)},children:"Next"})]}));return _?e.jsxs(e.Fragment,{children:[e.jsx(dt,{activeStep:b,orientation:"vertical",sx:{marginBottom:0},children:p.map((c,h)=>e.jsxs(ct,{children:[e.jsx(ut,{children:c}),e.jsx(zs,{children:e.jsxs(m,{sx:{display:"grid",gap:"20px",marginTop:"20px"},children:[h===0&&e.jsxs(e.Fragment,{children:[e.jsx(N,{type:"text",label:"Title",error:k==="title",value:r.appTitle,fullWidth:!0,required:!0,helperText:"Container title (must be unique witin this form)",autoComplete:"off",onChange:f=>{j(ts({appTitle:f.target.value}));const S={...x};S.title=f.target.value,j(I({appId:s,relationship:S})),g(!0)}}),Y(h)]}),h===1&&e.jsxs(e.Fragment,{children:[e.jsx(it,{}),e.jsx(_e,{isDetail:!0}),e.jsx(Fe,{app:r}),Y(h)]}),h===2&&e.jsxs(e.Fragment,{children:[e.jsx(we,{appId:s,app:r,metaData:n,relationship:x}),Y(h)]}),x.cardinality===V.MANY_TO_MANY&&h===3&&e.jsxs(e.Fragment,{children:[e.jsx(_e,{isDetail:!0,isRelationTable:!0}),e.jsx(Fe,{app:r,isRelationTable:!0}),Y(h)]}),x.cardinality===V.MANY_TO_MANY&&h===4&&e.jsxs(e.Fragment,{children:[e.jsx(we,{appId:s,app:r,metaData:n,relationship:x,isRelationTable:!0}),Y(h)]})]})})]},c))}),b===p.length&&e.jsxs(m,{sx:{marginTop:"20px",display:"grid",gap:"20px"},children:[e.jsx(m,{children:"Relationship wizard successfully completed. Click button below to activate."}),e.jsx(M,{fullWidth:!0,variant:"contained",onClick:()=>{const c={app_id:n.app.container[0].app_id,app_title:x.title,app_dbs:x.dbs,app_tbl:x.tbl,app_cls:x.cls},h={cnt_id_master:n.app.container[0].cnt_id,cardinality:x.cardinality,join_condition:x.joins,sql:x.sql};x.cardinality===V.MANY_TO_MANY&&(h.relation_tbl=x.relationTbl,h.relation_cls=x.relationCls,h.relation_join_condition=x.relationJoins,h.relation_sql=x.relationSql),c.app_relation=JSON.stringify(h),i?(c.app_cnt=r.appCntId,ot(c,f=>{a.debug(f),(f==null?void 0:f.code)==="ok"&&(f==null?void 0:f.message)===""?(o(!1),U("Relationship updated",{variant:"success"}),T(n,()=>{U(J.contactSupport,{variant:"error"})}),g(!1)):U(J.contactSupport,{variant:"error"})},f=>{a.error(f),U(J.contactSupport,{variant:"error"})},!1)):at(c,f=>{a.debug(f),(f==null?void 0:f.code)==="ok"&&(f==null?void 0:f.message)===""?(o(!1),U("Relationship created",{variant:"success"}),T(n,()=>{U(J.contactSupport,{variant:"error"})}),g(!1)):U(J.contactSupport,{variant:"error"})},f=>{a.error(f),U(J.contactSupport,{variant:"error"})},!1)},children:i?"Update relationship":"Create relationship"})]})]}):e.jsx(m,{children:e.jsxs(v,{fullWidth:!0,children:[e.jsxs(lt,{fullWidth:!0,color:"primary",exclusive:!0,value:x.cardinality,onChange:(c,h)=>{if(h!==null){const f={...x};f.cardinality=h,j(I({appId:s,relationship:f}))}g(!0),L(!0)},children:[e.jsx(de,{value:V.ONE_TO_ONE,children:"1:1"}),e.jsx(de,{value:V.ONE_TO_MANY,children:"1:m"}),e.jsx(de,{value:V.MANY_TO_MANY,children:"m:m"})]}),e.jsx(F,{children:"Select cardinality"})]})})},wt=({children:s,appId:n,embedded:i,enableWizard:t})=>{const l=P(n),u=()=>e.jsxs(m,{children:[e.jsx(m,{sx:{paddingTop:"30px"},children:s}),e.jsx(xe,{title:"Close",sx:{position:"absolute",top:0,right:"8px"},children:e.jsx(G,{onClick:()=>{t(!1),l(!1)},children:e.jsx(Le,{})})})]});return i?e.jsxs(m,{sx:{marginLeft:"-10px",marginRight:"-10px",position:"relative"},children:[e.jsx(Ne,{component:"div",sx:{height:"40px",display:"flex",alignItems:"center",marginBottom:"-10px"},children:"Relationship Wizard"}),u()]}):e.jsx(m,{children:e.jsxs("fieldset",{className:"pp-fieldset",style:{padding:"20px",position:"relative"},children:[e.jsx("legend",{children:"Relationship Wizard"}),u()]})})},Rt=({appId:s})=>{var d;a.debug(s);const n=w();ys();const i=xt(s),t=Ts(s);vs(),Ve(s);const[l,u]=C.useState(!1);a.debug("wizardOn",l);const[o,j]=C.useState(!1);a.debug("wizardIsUpdating",o);const[T,g]=C.useState("");a.debug("wizardTitle",T);const r=te(s);a.debug(r);const[_,L]=C.useState([]);a.debug(_),C.useEffect(()=>{var b,R;const p=[];if(t!==void 0&&t.length>0&&((b=r==null?void 0:r.app)==null?void 0:b.container)!==void 0&&Array.isArray((R=r==null?void 0:r.app)==null?void 0:R.container)){const X=r.app.container[0].cnt_id,Y=r.app.container[0].cnt_tbl;for(let c=0;c<t.length;c++){const h=Re(t[c].container);if(h!==null&&h.cnt_id_master===X){const f=t[c].appId;p.push({appId:f,dbAppId:t[c].container.app_id,cntId:t[c].container.cnt_id,title:t[c].container.cnt_title,dbs:t[c].container.cnt_dbs,tbl:t[c].container.cnt_tbl,cls:t[c].container.cnt_cls===void 0||t[c].container.cnt_cls===null||t[c].container.cnt_cls===""?{}:JSON.parse(t[c].container.cnt_cls),relation:h,parentTbl:Y})}}}L(p)},[s,(d=r==null?void 0:r.app)==null?void 0:d.container,t]),C.useState(""),C.useState(-1);const[x,k]=C.useState(!1);return C.useState(""),e.jsxs(e.Fragment,{children:[e.jsxs(W,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(z,{expandIcon:e.jsx(B,{}),children:"Relationships"}),e.jsxs(q,{children:[e.jsx(m,{sx:{marginBottom:"30px"},children:l?e.jsx(e.Fragment,{children:!o&&e.jsx(wt,{appId:s,embedded:!1,enableWizard:u,children:e.jsx(Ft,{appId:s,embedded:!1,metaData:r,isUpdating:o,enableWizard:u,initialRelationships:_,initialTitle:""})})}):e.jsx(M,{variant:"contained",fullWidth:!0,disabled:!0,startIcon:e.jsx(_s,{}),endIcon:e.jsx(Pe,{}),onClick:()=>{},children:"Start relationship wizard"})}),!1,e.jsx(e.Fragment,{children:_.length>0&&e.jsx(m,{sx:{marginTop:"30px"},children:e.jsxs(v,{fullWidth:!0,children:[e.jsx(ge,{variant:"outlined",children:"Display type"}),e.jsxs(he,{MenuProps:{id:"pp-select-menu"},value:i,label:"Display type",onChange:p=>{n(is({appId:s,displayType:p.target.value}))},children:[e.jsx(ee,{value:le.ACOORDION,children:"Accordion"}),e.jsx(ee,{value:le.TAB,children:"Tabs"}),e.jsx(ee,{value:le.TITLE,children:"Titles"})]}),e.jsx(F,{children:"Select how details should be displayed"})]})})}),e.jsx(K,{})]})]}),x&&e.jsx(fe,{title:"Delete Relationship?",message:"Are you sure you want to delete this relationship? This action cannot be undone!",open:x,setOpen:k,onConfirm:()=>{}})]})},kt=()=>{const s=D(n=>ns(n));return a.debug("isRelationForm",s),s},Ut=({appId:s})=>{a.debug(s),w(),P(s);const n=kt(),i=Ue(s),t=l=>{a.debug(l)};return e.jsxs(e.Fragment,{children:[n!==!0&&e.jsx(Rt,{appId:s}),e.jsx(St,{appId:s,formSettings:i}),e.jsx(yt,{appId:s,formSettings:i,updateSettings:t}),e.jsx(Tt,{formSettings:i,updateSettings:t}),e.jsx(vt,{formSettings:i,updateSettings:t}),e.jsx(_t,{appId:s,formSettings:i})]})},pi=({appId:s})=>{var h,f;a.debug(s);const n=w(),i=Ct(),[t,l]=C.useState(ue(Z.getState(),s));a.debug(t);const[u,o]=C.useState(ls(Z.getState(),s));a.debug(u);const j=()=>us(Z.getState(),s),T=S=>{n(ke({appId:s,isUpdated:S}))},[g,r]=C.useState(!1),_=((h=ye)==null?void 0:h.palette.mode)===rs.LIGHT?(f=ye)==null?void 0:f.palette.primary.main:"",L=S=>{n(os({anchor:S}))},x=()=>{t!==void 0&&n(ds({appId:s,formState:t}))},k=()=>{n(cs({})),T(!1)},d=()=>{j()?r(!0):(x(),k())},p=()=>{Ds(s,st.GLOBAL,S=>{if(a.debug(S),S!=null&&S.code&&(S==null?void 0:S.message)!==void 0)switch(S.code){case"ok":l(ue(Z.getState(),s)),U(S.message,{variant:"success"});break;case"info":U(S.message,{variant:"info"});break;default:a.error(S),U(S.message??J.contactSupport,{variant:"error"})}else a.error(S),U(J.contactSupport,{variant:"error"})},S=>{a.error("error",S),U(S??J.contactSupport,{variant:"error"})}),T(!1)},b=()=>{j()?(p(),setTimeout(()=>{k()},1e3)):k()},[R,X]=C.useState("1"),Y=(S,Oe)=>{X(Oe)},c=D(S=>as(S,s));return e.jsx(e.Fragment,{children:c&&e.jsxs(e.Fragment,{children:[e.jsxs(qs,{closeDrawer:d,children:[e.jsx(Fs,{position:"static",elevation:4,sx:{borderRadius:0},children:e.jsxs(ws,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Ne,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,display:{xs:"none",sm:"block"},paddingLeft:"6px"},children:"Form Builder"}),e.jsx(Q,{title:"Dock to left",position:"bottom",children:e.jsx(G,{onClick:()=>{L(Ce.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Ys,{})})}),e.jsx(Q,{title:"Dock to right",position:"bottom",children:e.jsx(G,{onClick:()=>{L(Ce.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Hs,{})})}),e.jsx(Q,{title:"Close",position:"bottom",children:e.jsx(G,{onClick:d,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(Le,{})})})]})}),e.jsx(Te,{className:"pp-settings-container",children:e.jsx(ve,{sx:{padding:0,margin:0},children:e.jsxs(Js,{value:R,children:[e.jsxs(Ms,{variant:"fullWidth",textColor:"primary",onChange:Y,sx:{width:"100%",height:"80px",padding:0,margin:0,backgroundColor:"rgb(242, 242, 242)"},children:[e.jsx(ce,{label:"Form",value:"1",sx:{fontWeight:"bold",fontSize:"110%",height:"80px"}}),e.jsx(ce,{label:"Columns",value:"2",sx:{fontWeight:"bold",fontSize:"110%",height:"80px"}}),i!==!0&&e.jsx(ce,{label:"Theme",value:"3",sx:{fontWeight:"bold",fontSize:"110%",height:"80px"}})]}),e.jsxs(m,{sx:{margin:0,padding:0,overflowY:"auto",height:"calc(100vh - 250px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(ae,{value:"1",children:e.jsx(Ut,{appId:s})}),e.jsx(ae,{value:"2",children:e.jsx(bt,{appId:s})}),i!==!0&&e.jsx(ae,{value:"3",children:e.jsx(pt,{appId:s,source:Ae.FORM,setIsUpdated:T})})]})]})})}),e.jsx(Te,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:_},children:e.jsxs(ve,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(M,{variant:"outlined",className:"footer_action_button_apply",onClick:p,children:"Apply"}),e.jsx(M,{variant:"outlined",className:"footer_action_button",onClick:b,children:"OK"}),e.jsx(M,{variant:"outlined",className:"footer_action_button",onClick:d,children:"Cancel"})]})})]}),e.jsx(fe,{title:"Close Form Builder?",message:"All uncommitted changes will be lost!",open:g,setOpen:r,onConfirm:()=>{x(),k()},onKeep:()=>{k()}})]})})};export{pi as default};
