import{l as p,r as s,j as r,v as S,e as f,C as n}from"./main-1.0.7.js";import{u as j,s as y,t as E,w as g,B as h,S as v}from"./main-1.0.7-9bcf9658.js";import{b as C}from"./ActionsApp-1.0.7-d5341f25.js";import D from"./Alert-1.0.7-7efc1ac6.js";const B=({appId:o,appDbId:e,designMode:i})=>{p.debug(o,e,i);const m=j(),[c,d]=s.useState(""),[u,l]=s.useState(!1),{prepareAppStore:x}=y(o,E.APP);s.useEffect(()=>{u||A()},[e]);const A=()=>{C(e,t=>{const a=t==null?void 0:t.data;p.debug("response data",a),a.app&&a.app.app&&Array.isArray(a.app.app)&&a.app.container&&Array.isArray(a.app.container)?x(e,a,i===!0)||d(n.contactSupport):f(n.contactSupport,{variant:"error"}),l(!0)},t=>{p.error("error",t),f(t??n.contactSupport,{variant:"error"})})};return c!==""?r.jsx(s.Suspense,{children:r.jsx(D,{severity:"error",message:c,close:!0,setClose:()=>{m(S({isActive:!1,appDbId:0}))}})}):u?r.jsx(g,{appId:o}):r.jsx(h,{sx:{padding:"50px"},children:r.jsx(v,{})})};export{B as A};
