import{j as e,bn as O,bI as I,bo as X,l as g,cm as D,bU as M,bR as L,bh as N,bw as _,r as W,bT as y,cn as V,E as P}from"./main-1.0.7.js";import{u as Q,M as w,B,a6 as Y}from"./main-1.0.7-9bcf9658.js";import{u as Z}from"./useStoreTable-1.0.7-4bf15352.js";import{u as J}from"./useTableUpdater-1.0.7-8b30420d.js";import{c as K}from"./index-1.0.7-22a4f547.js";import{A as k,a as A,b as T}from"./AccordionSummary-1.0.7-07dc4067.js";import{F as a,a as j,T as $,S as z,M as S}from"./TextField-1.0.7-db52d17f.js";import{R as U}from"./RadioGroup-1.0.7-a99aad94.js";import{F as c}from"./FormControlLabel-1.0.7-e4e2218b.js";import{R as v}from"./Radio-1.0.7-a1fc902e.js";import{S as f}from"./settings-1.0.7-0ed115b6.js";import{D as ee,T as se,a as R}from"./DefaultWhere-1.0.7-5a862d59.js";import{f as re,g as ne}from"./index.esm-1.0.7-50dfbcc7.js";import{M as F}from"./MenuItem-1.0.7-c593e11a.js";import{I as oe}from"./iconBase-1.0.7-dd244ceb.js";import{P as H}from"./PremiumFeature-1.0.7-7accbda7.js";import{C as G}from"./CssUnitTextField-1.0.7-44bdec8f.js";import"./Close-1.0.7-d2499b42.js";import"./useSlot-1.0.7-9849c4eb.js";import"./DialogContent-1.0.7-fca1f4d6.js";import"./AdminTheme-1.0.7-e1a0758c.js";import"./Tabs-1.0.7-766143ea.js";import"./Link-1.0.7-7fd9c9be.js";const le=({appId:r,tableSettings:n,metaData:s,updateTableSettings:i})=>{const o=Q(),u=J(r),p=(t,x)=>{const m=K(n);m.largeTableSupport.saved=t,m.largeTableSupport.actual=x,g.debug(m),o(D({appId:r,tableSettings:m})),u(!0)};return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Large Table Support"}),e.jsxs(T,{children:[e.jsxs(a,{children:[e.jsxs(U,{sx:{flexDirection:"column"},children:[e.jsx(c,{control:e.jsx(v,{checked:(n==null?void 0:n.largeTableSupport.saved)===O.DISABLED,onChange:t=>{p(O.DISABLED,I.DISABLED),t.stopPropagation()}}),value:"disable",label:"Disable large table support"},"disable"),e.jsx(c,{control:e.jsx(v,{checked:(n==null?void 0:n.largeTableSupport.saved)===O.ENABLED,onChange:t=>{p(O.ENABLED,I.ENABLED),t.stopPropagation()}}),value:"enable",label:"Enable large table support"},"enable"),e.jsx(c,{control:e.jsx(v,{checked:(n==null?void 0:n.largeTableSupport.saved)===O.AUTO,onChange:t=>{const x=X(s);p(O.AUTO,x),t.stopPropagation()}}),value:"auto",label:"Let the server decide (default)"},"auto")]}),e.jsxs(j,{component:"div",sx:{marginTop:"20px",marginBottom:"10px","& ul":{margin:0,padding:"0 0 0 20px"}},children:["Large table support:",e.jsxs("ul",{children:[e.jsx("li",{children:"enables row count estimation"}),e.jsx("li",{children:"requires the user to press enter on search"}),e.jsx("li",{children:"sets pagination to compact"}),e.jsx("li",{children:"removes the last page pagination button"}),e.jsx("li",{children:"reduce network traffic and server load"})]})]})]}),e.jsxs("fieldset",{className:"pp-fieldset",style:{display:n.largeTableSupport.actual===I.DISABLED?"none":"block",marginTop:"20px",padding:"20px"},children:[e.jsx("legend",{children:"Additional large table support settings"}),e.jsxs(a,{fullWidth:!0,children:[e.jsx(c,{control:e.jsx(f,{checked:n.largeTableSupport.skipCount,onChange:(t,x)=>{i("largeTableSupport.skipCount",x),t.stopPropagation()}}),label:"Skip row count on filter updates"}),e.jsx(j,{children:"Skips all SQL count statements. Can boost performance for large tables dramatically. Results in a poorer user feedback."})]})]}),e.jsx(a,{fullWidth:!0,sx:{marginTop:"20px"},children:e.jsx(j,{children:"Reload table or page after changing large table support settings to apply the correct row count"})})]})]})},ie=({tableSettings:r,updateTableSettings:n})=>{var s,i;return e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Responsiveness"}),e.jsx(T,{children:e.jsxs(a,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(c,{control:e.jsx(v,{checked:((s=r==null?void 0:r.design)==null?void 0:s.overflow)===M.RESPONSIVE,onChange:o=>{n("design.overflow",M.RESPONSIVE),o.stopPropagation()}}),value:"responsive",label:"Auto column hiding"},"responsive"),e.jsx(c,{control:e.jsx(v,{checked:((i=r==null?void 0:r.design)==null?void 0:i.overflow)!==M.RESPONSIVE,onChange:o=>{n("design.overflow",M.SCROLL),o.stopPropagation()}}),value:"scroll",label:"Horizontal scrollbar"},"scroll")]}),e.jsx(j,{children:"Behaviour when table content overflows available space"})]})})]})},de=({tableSettings:r,updateTableSettings:n})=>e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Density"}),e.jsxs(T,{children:[e.jsxs(a,{children:[e.jsxs(U,{sx:{display:"grid",gridTemplateColumns:"auto auto auto",alignItems:"center"},children:[e.jsx(c,{control:e.jsx(v,{checked:(r==null?void 0:r.design.density.default)===L.COMPACT,onChange:s=>{n("design.density.default",L.COMPACT),s.stopPropagation()}}),value:"compact",label:"Compact"},"compact"),e.jsx(c,{control:e.jsx(v,{checked:(r==null?void 0:r.design.density.default)===L.COMFORTABLE,onChange:s=>{n("design.density.default",L.COMFORTABLE),s.stopPropagation()}}),value:"comfortable",label:"Comfortable"},"comfortable"),e.jsx(c,{control:e.jsx(v,{checked:(r==null?void 0:r.design.density.default)===L.SPACIOUS,onChange:s=>{n("design.density.default",L.SPACIOUS),s.stopPropagation()}}),value:"spacious",label:"Spacious"},"spacious")]}),e.jsx(j,{children:"Default spacing on page load"})]}),e.jsx(a,{sx:{marginTop:"20px"},children:e.jsx(c,{control:e.jsx(f,{checked:r==null?void 0:r.design.density.userCanChange,onChange:(s,i)=>{n("design.density.userCanChange",i),s.stopPropagation()}}),label:"Allow user to change spacing"})})]})]}),ce=({hasPrimaryKey:r,tableSettings:n,metaData:s,updateTableSettings:i})=>{var o,u,p,t,x,m,d,l,C;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Row actions"}),e.jsx(T,{children:e.jsxs(B,{sx:{display:"grid"},children:[((o=s==null?void 0:s.privs)==null?void 0:o.insert)&&r&&e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{disabled:!((u=s==null?void 0:s.privs)!=null&&u.insert)||!r,checked:(p=n==null?void 0:n.transactions)==null?void 0:p.insert,onChange:(E,h)=>{i("transactions.insert",h),E.stopPropagation()}}),label:"Allow insert"}),e.jsx(j,{children:"Adds an insert button to the table toolbar"})]}),e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:n==null?void 0:n.viewLink,onChange:(E,h)=>{i("viewLink",h),E.stopPropagation()}}),label:"Allow viewing"}),e.jsx(j,{children:"Adds a view icon to each row"})]}),((t=s==null?void 0:s.privs)==null?void 0:t.update)&&r&&e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{disabled:!((x=s==null?void 0:s.privs)!=null&&x.update)||!r,checked:(m=n==null?void 0:n.transactions)==null?void 0:m.update,onChange:(E,h)=>{i("transactions.update",h),E.stopPropagation()}}),label:"Allow update"}),e.jsx(j,{children:"Adds an update icon to each table row"})]}),((d=s==null?void 0:s.privs)==null?void 0:d.delete)&&r&&e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{disabled:!((l=s==null?void 0:s.privs)!=null&&l.delete)||!r,checked:(C=n==null?void 0:n.transactions)==null?void 0:C.delete,onChange:(E,h)=>{i("transactions.delete",h),E.stopPropagation()}}),label:"Allow delete"}),e.jsx(j,{children:"Adds a delete icon to each table row"})]})]})})]})},ae=({appId:r,tableSettings:n,metaData:s,updateTableSettings:i})=>{var o,u,p,t,x,m;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Bulk actions"}),e.jsx(T,{children:e.jsxs(B,{sx:{display:"grid"},children:[e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(d,l)=>{d.stopPropagation()}}),label:"Export to PDF (premium feature)"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:(o=n==null?void 0:n.bulkActions)==null?void 0:o.csv,onChange:(d,l)=>{i("bulkActions.csv",l),d.stopPropagation()}}),label:"Export to CSV"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:(u=n==null?void 0:n.bulkActions)==null?void 0:u.json,onChange:(d,l)=>{i("bulkActions.json",l),d.stopPropagation()}}),label:"Export to JSON"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(d,l)=>{d.stopPropagation()}}),label:"Export to Excel (premium feature)"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:(p=n==null?void 0:n.bulkActions)==null?void 0:p.xml,onChange:(d,l)=>{i("bulkActions.xml",l),d.stopPropagation()}}),label:"Export to XML"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:!N(r)&&!_(s)&&((t=n==null?void 0:n.bulkActions)==null?void 0:t.sql),disabled:N(r)||_(s),onChange:(d,l)=>{N(r)||i("bulkActions.sql",l),d.stopPropagation()}}),label:"Export to SQL"})}),e.jsx(a,{children:e.jsx(c,{control:e.jsx(f,{checked:(x=n==null?void 0:n.bulkActions)==null?void 0:x.delete,disabled:!((m=s==null?void 0:s.privs)!=null&&m.delete),onChange:(d,l)=>{i("bulkActions.delete",l),d.stopPropagation()}}),label:"Delete"})}),e.jsx(a,{children:e.jsx(j,{children:"Added to BULK ACTIONS button"})})]})})]})},ue=({tableSettings:r,updateTableSettings:n})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Default where"}),e.jsx(T,{children:e.jsxs(a,{fullWidth:!0,children:[e.jsx($,{value:r==null?void 0:r.defaultWhere,multiline:!0,fullWidth:!0,minRows:5,variant:"outlined",onClick:s=>{s.stopPropagation()},onChange:s=>{n("defaultWhere",s.target.value)}}),e.jsx(ee,{})]})})]}),q=({tableColumns:r,orderByColumn:n,addActions:s,enableAddAction:i,onUpdate:o,onActions:u})=>{g.debug(r,n,s,i);const[p,t]=W.useState(null),x=!!p,m=l=>{t(l.currentTarget),l.stopPropagation()},d=()=>{t(null)};return e.jsxs(B,{sx:{display:"grid",gridTemplateColumns:s?"auto 100px 50px":"auto 100px",gridGap:"5px",marginBottom:"5px"},children:[e.jsxs(z,{MenuProps:{id:"pp-select-menu"},value:n.columnName,onChange:l=>{o({...n,columnName:l.target.value})},children:[e.jsx(F,{value:"",children:"Â "}),...r.map(l=>l.computedField!==void 0?null:e.jsx(F,{value:l.columnName,children:l.columnName}))]}),e.jsxs(z,{MenuProps:{id:"pp-select-menu"},value:n.order,onChange:l=>{o({...n,order:l.target.value==="desc"?"desc":"asc"})},children:[e.jsx(F,{value:"asc",children:"Asc"}),e.jsx(F,{value:"desc",children:"Desc"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{color:"primary",onClick:m,children:e.jsx(Y,{})}),e.jsxs(S,{anchorEl:p,open:x,onClose:d,sx:{zIndex:9999999999},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[i&&e.jsxs(F,{onClick:()=>{u("add"),d()},children:[e.jsx(re,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Add column"})]}),e.jsxs(F,{onClick:()=>{u("delete"),d()},children:[e.jsx(ne,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Delete column"})]})]})]})]})},pe=({tableSettings:r,tableColumns:n,updateTableSettings:s})=>{const[i,o]=W.useState(r.defaultOrderBy.length===0);return e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Default order by"}),e.jsxs(T,{children:[Array.isArray(r.defaultOrderBy)&&e.jsxs(e.Fragment,{children:[...r.defaultOrderBy.map((u,p)=>e.jsx(q,{tableColumns:n,orderByColumn:r.defaultOrderBy[p],addActions:!0,enableAddAction:r.defaultOrderBy.length===p+1&&!i,onUpdate:t=>{const x=[...r.defaultOrderBy];x[p]=t,s("defaultOrderBy",x)},onActions:t=>{if(t==="add")o(!0);else if(t==="delete"){const x=[...r.defaultOrderBy];x.splice(p,1),s("defaultOrderBy",x),o(x.length===0)}}},p))]}),i&&e.jsx(q,{tableColumns:n,orderByColumn:{columnName:"",order:"asc"},addActions:r.defaultOrderBy.length>0,enableAddAction:!1,onUpdate:u=>{const p=[...r.defaultOrderBy];p.push({columnName:u.columnName,order:u.order}),s("defaultOrderBy",p),o(!1)},onActions:u=>{u==="delete"&&o(!1)}}),e.jsx(a,{fullWidth:!0,children:e.jsx(j,{children:"Defines the default ordering. The user can change the default ordering if sorting is enabled for one or more columns."})})]})]})},te=({tableStore:r,updateTableSettings:n})=>{var u,p,t,x,m,d,l,C,E;const s=r.table,o=r.state.masterDetailConditions!==void 0;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Global Search"}),e.jsxs(T,{children:[e.jsxs(B,{children:[e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:(u=s==null?void 0:s.searchSettings)==null?void 0:u.enableGlobalSearch,disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Enable global search"}),e.jsx(j,{children:"Adds a global search box to the data table"})]}),e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:(p=s==null?void 0:s.searchSettings)==null?void 0:p.forceSearch,disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Show empty table on startup"}),e.jsx(j,{children:"Forces user to perform a search"})]}),e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:(t=s==null?void 0:s.searchSettings)==null?void 0:t.highlightMatches,disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Highlight matches"}),e.jsx(j,{children:"Filter match highlighting"})]})]}),e.jsx(H,{single:!1})]})]}),e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Column Filters"}),e.jsxs(T,{children:[e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:(x=s==null?void 0:s.searchSettings)==null?void 0:x.searchForm,disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Enable column filters"}),e.jsx(j,{children:"Disable to hide all column filters"})]}),((m=s==null?void 0:s.searchSettings)==null?void 0:m.searchForm)===!0&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:((d=s==null?void 0:s.searchSettings)==null?void 0:d.searchFormAlwaysOpen)||((l=s==null?void 0:s.searchSettings)==null?void 0:l.forceInline),disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Show column filters on startup"}),e.jsx(j,{children:"Effective after next page load"})]}),e.jsxs(a,{children:[e.jsx(c,{control:e.jsx(f,{checked:(C=s==null?void 0:s.searchSettings)==null?void 0:C.searchFormAlwaysOpen,disabled:!0,onChange:(h,b)=>{g.debug(b),h.stopPropagation()}}),label:"Always show column filters"}),e.jsx(j,{children:"Disable to remove the column filter icon"})]}),e.jsx(B,{sx:{marginTop:"20px"},children:e.jsxs(a,{fullWidth:!0,children:[e.jsxs(se,{fullWidth:!0,color:"primary",exclusive:!0,value:o?y.HEADER:(E=s==null?void 0:s.searchSettings)==null?void 0:E.searchFormPosition,onChange:(h,b)=>{h.stopPropagation()},children:[e.jsx(R,{value:y.TOP,disabled:o,children:"Above"},y.TOP),e.jsx(R,{value:y.RIGHT,disabled:o,children:"Right"},y.RIGHT),e.jsx(R,{value:y.BOTTOM,disabled:o,children:"Below"},y.BOTTOM),e.jsx(R,{value:y.LEFT,disabled:o,children:"Left"},y.LEFT),e.jsx(R,{value:y.HEADER,children:"Header"},y.HEADER)]}),e.jsx(j,{children:"Position of the column filters relative to the data table"})]})})]})]})]})]})},xe=({tableSettings:r,updateTableSettings:n})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Pagination"}),e.jsxs(T,{children:[e.jsx(a,{fullWidth:!0,children:e.jsx(c,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showFirstButton,onChange:(s,i)=>{g.debug(s,i)}}),label:"Show first button"})}),e.jsxs(a,{fullWidth:!0,children:[e.jsx(c,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showLastButton&&(r.largeTableSupport.actual===I.DISABLED||r.largeTableSupport.skipCount===!1),onChange:(s,i)=>{g.debug(s,i)}}),label:"Show last button"}),e.jsx(j,{children:"By default disabled with large table support and row count skipping"})]}),e.jsxs(a,{fullWidth:!0,children:[e.jsx(c,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showCompactButtons||r.largeTableSupport.actual===I.ENABLED,onChange:(s,i)=>{g.debug(s,i)}}),label:"Show compact pagination buttons"}),e.jsx(j,{children:"By default enabled when large table support is enabled"})]}),e.jsx(H,{single:!1})]})]}),he=({tableSettings:r,updateTableSettings:n})=>e.jsxs(k,{sx:{display:"none"},disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Processing"}),e.jsx(T,{children:e.jsxs(a,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(c,{control:e.jsx(v,{checked:(r==null?void 0:r.processing)===V.SERVERSIDE,onChange:s=>{n("processing",V.SERVERSIDE),s.stopPropagation()}}),value:"serverside",label:"Server-side"},"serverside"),e.jsx(c,{control:e.jsx(v,{checked:(r==null?void 0:r.processing)===V.CLIENTSIDE,onChange:s=>{n("processing",V.CLIENTSIDE),s.stopPropagation()}}),value:"clientside",label:"Client-side"},"clientside")]}),e.jsx(j,{children:"Use server-side for large tables and views, use client-side for quick analyses of small tables and views"})]})})]}),je=()=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Language"}),e.jsxs(T,{children:[e.jsx(B,{children:"This feature was moved to the App Manager to support enhanced full app localization. Close App and click the Manage link or Manage App icon to change app language."}),e.jsx(H,{})]})]}),fe=({tableSettings:r,metaData:n,updateTableSettings:s})=>{var i;return!((i=n==null?void 0:n.privs)!=null&&i.update)||n.primary_key.length===0?null:e.jsxs(k,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(A,{expandIcon:e.jsx(w,{}),children:"Inline Field Settings"}),e.jsxs(T,{sx:{display:"grid"},children:[e.jsxs(a,{children:[e.jsxs(U,{value:r.inlineEditing.fieldVariant,sx:{flexDirection:"row"},onChange:o=>{o.stopPropagation()},children:[e.jsx(c,{control:e.jsx(v,{disabled:!0}),value:"outlined",label:"Outlined"},"outlined"),e.jsx(c,{control:e.jsx(v,{disabled:!0}),value:"filled",label:"Filled"},"filled"),e.jsx(c,{control:e.jsx(v,{disabled:!0}),value:"standard",label:"Standard"},"standard")]}),e.jsx(j,{children:"Applies to inline fields only"})]}),e.jsxs(a,{children:[e.jsxs(B,{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"40px",marginBottom:"10px"},children:[e.jsx(G,{label:"Padding top",textField:{cssValue:r.inlineEditing.spacing.fieldTop,cssUnit:r.inlineEditing.spacing.fieldTopUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldTop,cssUnit:P.table.inlineEditing.spacing.fieldTopUnit},updateSettings:o=>{g.debug(o)}}),e.jsx(G,{label:"Padding bottom",textField:{cssValue:r.inlineEditing.spacing.fieldBottom,cssUnit:r.inlineEditing.spacing.fieldBottomUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldBottom,cssUnit:P.table.inlineEditing.spacing.fieldBottomUnit},updateSettings:o=>{g.debug(o)}}),e.jsx(G,{label:"Padding left",textField:{cssValue:r.inlineEditing.spacing.fieldLeft,cssUnit:r.inlineEditing.spacing.fieldLeftUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldLeft,cssUnit:P.table.inlineEditing.spacing.fieldLeftUnit},updateSettings:o=>{g.debug(o)}}),e.jsx(G,{label:"Padding right",textField:{cssValue:r.inlineEditing.spacing.fieldRight,cssUnit:r.inlineEditing.spacing.fieldRightUnit},defaultValue:{cssValue:P.table.inlineEditing.spacing.fieldRight,cssUnit:P.table.inlineEditing.spacing.fieldRightUnit},updateSettings:o=>{g.debug(o)}})]}),e.jsx(j,{children:"Space added to inline fields"})]}),e.jsx(H,{single:!1})]})]})},We=({appId:r,metaData:n})=>{g.debug(r);const s=Q(),i=J(r),o=Z(r),u=o==null?void 0:o.table,p=o==null?void 0:o.columns,t=W.useMemo(()=>p.filter(l=>l.computedField!==void 0),[p]);g.debug("storeColumnSettings",t);const x=W.useMemo(()=>{const l=p.map(C=>C.columnName);return g.debug(l),n.primary_key.length>0&&n.primary_key.filter(C=>l.includes(C)).length===n.primary_key.length},[p,n.primary_key]);g.debug("hasPrimaryKey",x);const m=(l,C,E)=>{const[h,...b]=C.split(".");return{...l,[h]:b.length?m(l[h],b.join("."),E):E}},d=(l,C)=>{g.debug(l,C);const E=m(u,l,C);g.debug(E),s(D({appId:r,tableSettings:E})),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{appId:r,tableSettings:u,metaData:n,updateTableSettings:d}),e.jsx(xe,{tableSettings:u,updateTableSettings:d}),e.jsx(te,{tableStore:o,updateTableSettings:d}),e.jsx(he,{tableSettings:u,updateTableSettings:d}),e.jsx(ce,{hasPrimaryKey:x,tableSettings:u,metaData:n,updateTableSettings:d}),e.jsx(ae,{appId:r,tableSettings:u,metaData:n,updateTableSettings:d}),N(r)&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{tableSettings:u,updateTableSettings:d}),e.jsx(pe,{tableSettings:u,tableColumns:p,updateTableSettings:d})]}),e.jsx(je,{}),e.jsx(ie,{tableSettings:u,updateTableSettings:d}),e.jsx(de,{tableSettings:u,updateTableSettings:d}),e.jsx(fe,{tableSettings:u,updateTableSettings:d,metaData:n})]})};export{We as default};
