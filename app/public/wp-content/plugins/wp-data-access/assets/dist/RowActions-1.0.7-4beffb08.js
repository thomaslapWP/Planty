import{l as r,r as A,bw as v,j as e,cb as P,e as l}from"./main-1.0.7.js";import{u as w,B as M,T as d,a5 as k,J as T,ah as V,l as B,Z as O}from"./main-1.0.7-9bcf9658.js";import{C as U}from"./settings-1.0.7-0ed115b6.js";import{d as q}from"./ActionsDml-1.0.7-c9050d88.js";import{I as m}from"./iconBase-1.0.7-dd244ceb.js";import"./FormControlLabel-1.0.7-e4e2218b.js";import"./TextField-1.0.7-db52d17f.js";import"./Close-1.0.7-d2499b42.js";import"./DialogContent-1.0.7-fca1f4d6.js";import"./AdminTheme-1.0.7-e1a0758c.js";import"./Tabs-1.0.7-766143ea.js";const X=({metaData:o,appId:c,rowId:s,rowData:x,storeTableSettings:n,appLanguage:t,showForm:j,refetch:p})=>{var u,a;r.debug(o,c,s,x);const y=w(),[C,f]=A.useState(!1),h=Object.keys(s).length>0,R=n.viewLink,b=!v(o)&&((u=o==null?void 0:o.privs)==null?void 0:u.update)&&n.transactions.update&&h,E=!v(o)&&((a=o==null?void 0:o.privs)==null?void 0:a.delete)&&n.transactions.delete&&h;return e.jsxs(M,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-around",alignItems:"center",gap:"5px"},children:[R&&e.jsx(d,{title:t.view,children:e.jsx(m,{color:"primary",onClick:i=>{Object.keys(s).length===0&&y(P({appId:c,data:x,context:null})),j(s,k.VIEW),i.stopPropagation()},children:e.jsx(T,{})})}),b&&e.jsx(d,{title:t.edit,children:e.jsx(m,{color:"primary",onClick:i=>{j(s,k.UPDATE),i.stopPropagation()},children:e.jsx(V,{})})}),E&&e.jsxs(e.Fragment,{children:[e.jsx(d,{title:t.delete,children:e.jsx(m,{color:"error",onClick:i=>{f(!0),i.stopPropagation()},children:e.jsx(B,{})})}),e.jsx(U,{title:t.deleteRowTitle,message:t.deleteRowMessage,open:C,setOpen:f,onConfirm:()=>{q(c,s,i=>{if(i!=null&&i.code&&(i!=null&&i.message))switch(i.code){case"ok":l(t.deletedSuccessful,{variant:"success"}),p();break;default:r.error(i),l(i.message??t.invalidResponse,{variant:"error"})}else r.error(i),l(t.invalidResponse,{variant:"error"})},i=>{r.error("error",i),l(i??t.invalidResponse,{variant:"error"})})},locale:t,theme:O})]})]})};export{X as default};
